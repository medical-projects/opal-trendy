{% load forms %}
{% load trendy_visuals %}
{% load trendy_utils %}

<div class="panel panel-default">
  <div class="panel-heading">
    <h3>{% icon models.Demographics.get_icon %}
    {{ models.Demographics.get_display_name }}
  </h3>
  </div>
  <div class="panel-body">
    <div class="row">
      {% if not "demographics__fkft_query__sex"|already_filtered:request %}
        <div class="col-md-6">
          {% pie_chart "fkft_query" obj_list "demographics" field="sex" %}
        </div>
      {% endif %}
      {% if not "demographics__fkft_query__ethnicity"|already_filtered:request %}
        <div class="col-md-6">
          {% pie_chart "top_twenty" obj_list "demographics" field="ethnicity" %}
        </div>
      {% endif %}
    </div>
    {% if not "demographics__age"|already_filtered:request %}
      <div class="row">
        <div class="col-md-12">
            {% bar_chart "age" obj_list "demographics" label="Age" %}
        </div>
      </div>
    {% endif %}
    <div class="row">
      <div class="col-md-4">
          {% gauge_chart "empty_field" obj_list "demographics" field="sex" %}
      </div>
      <div class="col-md-4">
          {% gauge_chart "empty_field" obj_list "demographics" field="ethnicity" %}
      </div>
      <div class="col-md-4">
          {% gauge_chart "empty_field" obj_list "demographics" field="date_of_birth" %}
      </div>
    </div>
  </div>
</div>
