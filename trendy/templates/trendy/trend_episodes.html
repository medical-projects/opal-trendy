{% extends 'trendy/trend_base.html' %}
{% load trendy_utils %}

{% block content %}
<div class="container content-offset" id="app">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h2>
        <a href="/trendy">
          <i class="fa fa-cubes"></i>
          Trendy
        </a>
      </h2>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-12">
          <h4>Patient Lists</h4>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4 col-md-push-4">
          <div class="list-group">
            {% for episode in episodes %}
              <a href="/#/patient/{{ episode.patient.id }}/{{ episode.id }}" class="list-group-item">
                {{ episode.patient.demographics_set.first.first_name }} {{ episode.patient.demographics_set.first.surname }}
              </a>
            {% endfor %}
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-md-12 text-center">
          <nav aria-label="Page navigation">
            <ul class="pagination">
              {% if episodes.has_previous %}
              <li>
                <a href="?page={{ episodes.previous_page_number }}">{{ episodes.previous_page_number }}</a>
              </li>
              {% endif %}
              <li>
                  <a href="">{{ episodes.number }} of {{ episodes.paginator.num_pages }}.</a>
              </li>
              {% if paginator_next %}
              <li>
                  <a href="?{{ paginator_next }}">{{ episodes.next_page_number }}</a>
              </li>
              {% endif %}
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
